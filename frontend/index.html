<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Shehab’s 3-Tier Demoo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --bg1:#0f172a; --bg2:#1e293b; --fg:#e2e8f0; --muted:#94a3b8;
      --primary:#22d3ee; --accent:#a78bfa; --danger:#fb7185; --ok:#34d399;
      --devops:#facc15;            /* DEV/OPS bright color */
      --ui-scale: 1.3;               /* ← scale factor (2x) */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--fg);
      background:
        radial-gradient(1200px 600px at 10% -10%, #1f2937 0%, transparent 60%),
        radial-gradient(1000px 600px at 110% 10%, #0b1220 0%, transparent 60%),
        linear-gradient(160deg, var(--bg1), var(--bg2));
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
       place-items:center; padding:24px;
      overflow-x:hidden;
      display:flex;
  align-items:center;
  justify-content:center;
  min-height:100svh;
    }

    /* Scale wrapper: visually doubles the UI without breaking layout */
   .shell{
  transform: scale(var(--ui-scale));   /* was translateY(...) scale(...) */
  transform-origin: center;
}


    .card{
      width:100%;
      background:rgba(255,255,255,0.05);
      border:1px solid rgba(255,255,255,0.08);
      border-radius:20px; box-shadow: 0 20px 60px rgba(0,0,0,0.35);
      padding:28px; backdrop-filter: blur(10px);
    }
    .hero{ text-align:center; margin-bottom:18px; }
    .hero h1{
      margin:0 0 10px;
      font-size: clamp(24px, 4vw, 40px);
      letter-spacing:.5px;
    }
    .name-strong{
      color:var(--fg);
      font-weight:900;
      letter-spacing:.5px;
      text-shadow: 0 2px 14px rgba(34,211,238,.35), 0 0 1px rgba(255,255,255,.6);
      -webkit-text-stroke: .25px rgba(255,255,255,.35);
    }

    /* AlgoCAS line */
    .brand{
  margin-top:6px;
  font-weight:800;
  /* bigger AlgoCAS */
  font-size: clamp(28px, 4.2vw, 52px);  /* was clamp(18px, 2.6vw, 28px) */
  background: linear-gradient(90deg, var(--primary), var(--accent));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: 0 1px 20px rgba(167,139,250,.4);
}

    .hero .sub{ color:var(--muted); font-size:14px; margin-top:-10px; }

    /* Infinity symbol (smaller base; margins tight so 2x looks right) */
    .infinity-wrap{
      position:relative;
      width:min(360px, 70vw);
      margin:12px auto 6px;
      aspect-ratio: 5 / 2;
    }
    .infinity-wrap svg{
      width:100%; height:100%; display:block;
      filter: drop-shadow(0 6px 20px rgba(0,0,0,.35));
    }

    /* Controls layout */
    .controls{ display:grid; gap:16px; margin-top:10px; }
    .row{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .row.center{ justify-content:center; }
    .grid-2{ display:grid; grid-template-columns: 1fr; gap:16px; }
    @media (min-width:720px){ .grid-2{ grid-template-columns: 1fr 1fr; } }

    input[type="text"], input[type="number"]{
      flex:1 1 240px; padding:10px 12px; border-radius:12px;
      border:1px solid rgba(255,255,255,0.12);
      background:rgba(255,255,255,0.06); color:var(--fg); outline:none;
    }
    button{
      padding:10px 14px; border-radius:12px; border:1px solid transparent;
      cursor:pointer; font-weight:700;
      transition:transform .05s ease, box-shadow .2s ease, background .2s ease;
    }
    button:active{ transform: translateY(1px); }
    .btn-primary{ background:linear-gradient(120deg, var(--primary), #60a5fa); color:#03111a; }
    .btn-insert{ background:linear-gradient(120deg, var(--ok), #7dd3fc); color:#03111a; }
    .btn-delete{ background:linear-gradient(120deg, var(--danger), #fbbf24); color:#1f0a0a; }
    .muted{ color:var(--muted); font-size:13px; }
    ul{ list-style:none; padding:0; margin:18px 0 0; }
    li{
      padding:10px 12px; border-radius:12px;
      background:rgba(255,255,255,0.04); border:1px solid rgba(255,255,255,0.08);
      margin-bottom:8px; display:flex; justify-content:space-between; align-items:center; gap:10px;
    }
  </style>
</head>
<body>
  <div class="shell">
    <div class="card">
      <div class="hero">
        <h1>Welcome to <span class="name-strong">Shehab Gamal</span> 3-Tier App</h1>
        <div class="brand">AlgoCAS</div>

        <!-- Infinity with DEV left / OPS right (text drawn inside SVG) -->
        <div class="infinity-wrap">
          <svg viewBox="0 0 200 100" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <defs>
              <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#22d3ee"/>
                <stop offset="50%" stop-color="#a78bfa"/>
                <stop offset="100%" stop-color="#34d399"/>
              </linearGradient>
              <filter id="textGlow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="2" result="b"/>
                <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
              </filter>
            </defs>

            <!-- Infinity curve -->
            <path d="M20,50 C20,20 80,20 100,50 C120,80 180,80 180,50
                     C180,20 120,20 100,50 C80,80 20,80 20,50"
                  fill="none" stroke="url(#grad)" stroke-width="10" stroke-linecap="round" />

            <!-- DEV centered in left loop -->
            <text x="58" y="53" text-anchor="middle"
                  style="fill: var(--devops); font: 900 16px system-ui, sans-serif; letter-spacing: .2em;"
                  filter="url(#textGlow)">DEV</text>

            <!-- OPS centered in right loop -->
            <text x="142" y="53" text-anchor="middle"
                  style="fill: var(--devops); font: 900 16px system-ui, sans-serif; letter-spacing: .2em;"
                  filter="url(#textGlow)">OPS</text>
          </svg>
        </div>

        <div class="sub">Frontend → Backend → DB (MySQL)</div>
      </div>

      <!-- Controls -->
      <div class="controls">
        <div class="row center">
          <button id="btn" class="btn-primary">Load Data</button>
          <span id="status" class="muted"></span>
        </div>

        <div class="grid-2">
          <div class="row">
            <input id="newInfo" type="text" placeholder="text to insert…" />
            <button id="btnInsert" class="btn-insert">Insert</button>
          </div>
          <div class="row">
            <input id="deleteId" type="number" min="1" placeholder="id to delete" />
            <button id="btnDelete" class="btn-delete">Delete</button>
          </div>
        </div>
      </div>

      <ul id="list"></ul>
    </div>
  </div>

  <script>
    const $ = (id) => document.getElementById(id);
    const list = $("list");
    const statusEl = $("status");
    const setStatus = (m) => statusEl.textContent = m || "";

    async function loadData() {
      try {
        setStatus("Loading…");
        const resp = await fetch("/api/data");
        if (!resp.ok) throw new Error(resp.statusText);
        const items = await resp.json();
        list.innerHTML = "";
        items.forEach(o => {
          const li = document.createElement("li");
          li.innerHTML = `<span>#${o.id}: ${o.info}</span>`;
          list.appendChild(li);
        });
        setStatus(`Loaded ${items.length} item(s).`);
      } catch (err) {
        alert("Fetch error: " + err);
        setStatus("Load failed.");
      }
    }

    $("btn").onclick = loadData;

    $("btnInsert").onclick = async () => {
      const info = $("newInfo").value.trim();
      if (!info) { alert("Please enter some text."); return; }
      try {
        setStatus("Inserting…");
        const resp = await fetch("/api/data", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ info })
        });
        if (!resp.ok) throw new Error(resp.statusText);
        $("newInfo").value = "";
        await loadData();
        setStatus("Inserted.");
      } catch (e) {
        alert("Insert error: " + e.message);
        setStatus("Insert failed.");
      }
    };

    $("btnDelete").onclick = async () => {
      const id = Number($("deleteId").value);
      if (!id) { alert("Enter a valid id."); return; }
      try {
        setStatus(`Deleting #${id}…`);
        const resp = await fetch(`/api/data/${id}`, { method: "DELETE" });
        if (!resp.ok) throw new Error(resp.statusText);
        $("deleteId").value = "";
        await loadData();
        setStatus(`Deleted #${id}.`);
      } catch (e) {
        alert("Delete error: " + e.message);
        setStatus("Delete failed.");
      }
    };

    // no auto-load; click "Load Data" to fetch
  </script>
</body>
</html>
